<div class="p-4">
    <!-- 固定的标题和筛选表单 -->
    <div class="bg-white sticky top-0 z-10 pb-4">
        <h2 class="text-2xl font-bold mb-4">{{ keywords }} - 详情</h2>
        
        <!-- 筛选表单 -->
        <div class="bg-gray-50 p-4 rounded mb-4">
            <form class="flex gap-4 items-end" onsubmit="filterDetails(event)">
                <div>
                    <label class="block text-sm text-gray-600 mb-1" for="starttime">开始时间</label>
                    <input type="date" id="starttime" name="starttime" value="{{ starttime }}"
                        class="px-3 py-2 border rounded">
                </div>
                <div>
                    <label class="block text-sm text-gray-600 mb-1" for="endtime">结束时间</label>
                    <input type="date" id="endtime" name="endtime" value="{{ endtime }}"
                        class="px-3 py-2 border rounded">
                </div>
                <button type="submit" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">
                    筛选
                </button>
            </form>
        </div>
    </div>

    <!-- 可滚动的数据展示区域 -->
    <div class="overflow-auto max-h-[calc(100vh-300px)] bg-gray-50 rounded">
        <pre class="whitespace-pre-wrap p-4"><code>{{ data | safe }}</code></pre>
    </div>
    
    <!-- 固定在底部的翻页按钮 -->
    <div class="bg-white sticky bottom-0 pt-4 flex justify-between">
        <button onclick="showDetails(currentCommunity, {{ page - 1 }}, '{{ starttime }}', '{{ endtime }}')" 
                class="bg-blue-500 text-white px-4 py-2 rounded {{ 'opacity-50 cursor-not-allowed' if page <= 1 else '' }}"
                {{ 'disabled' if page <= 1 else '' }}>
            上一页
        </button>
        <span class="py-2">第 {{ page }} 页</span>
        <button onclick="showDetails(currentCommunity, {{ page + 1 }}, '{{ starttime }}', '{{ endtime }}')" 
                class="bg-blue-500 text-white px-4 py-2 rounded">
            下一页
        </button>
    </div>
</div> 